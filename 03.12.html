<!DOCTYPE html>
<html>
<body>

<p id="p1"></p>
<p id="p2"></p>

<script>
const input = 361527;
const computeMaxIndex = () => {
	var x = Math.ceil(Math.sqrt(input));
	if (x % 2 === 0) {
		return x + 1;
	}
	
	return x;
};
const rowColumnLength = computeMaxIndex();
const matrixSize = rowColumnLength * rowColumnLength;
const midPoint = {
	x: Math.ceil(rowColumnLength / 2),
	y: Math.ceil(rowColumnLength / 2)
};

var inputPos = {
	x: undefined,
	y: undefined
}
const size = rowColumnLength - 1;
if (matrixSize - size <= input) {
	if (matrixSize - size === input) {
		inputPos = {
			x: 1,
			y: rowColumnLength
		}
	} else {
		inputPos.x = input - (matrixSize - size) + 1;
		inputPos.y = rowColumnLength;
	}
} else if (matrixSize - 2 * size <= input) {
	if (matrixSize - 2 * size === input) {
		inputPos = {
			x: 1,
			y: 1
		}
	} else {
		inputPos.x = rowColumnLength;
		inputPos.y = input - (matrixSize - 2 * size) + 1;
	}
} else if (matrixSize - 3 * size <= input) {
	if (matrixSize - 3 * size === input) {
		inputPos = {
			x: rowColumnLength,
			y: 1
		}
	} else {
		inputPos.x = rowColumnLength - (input - (matrixSize - 3 * size));
		inputPos.y = 1;
	}
} else if (matrixSize - 4 * size <= input) {
	inputPos.x = rowColumnLength;
	inputPos.y = rowColumnLength - (input - (matrixSize - 4 * size));
}
const manhattanDistance = Math.abs(midPoint.x - inputPos.x) + Math.abs(midPoint.y - inputPos.y);

document.getElementById('p1').innerHTML = 'Part 1: ' + manhattanDistance;
document.getElementById('p2').innerHTML = 'Part 2: ';
</script> 

</body>
</html>
